<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Tomcat启动报The BASEDIR environment variable is not defined correctly - 千歳屋</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="/static/kusa.css">
  </head>
  <body>
    <div class="body">
      
<h1>Tomcat启动报The BASEDIR environment variable is not defined correctly</h1>
<p class="meta">majia255 posted on 2012/07/07</p>
<div class="nav">
	<a href="/">Index</a> -
	<a href="/link">Links</a> -
	<a href="/feed">Feed</a>
</div>
<div class="post">
	<p>由centOS转向了Ubuntu，期间有各种各样的小麻烦，比如java的安装就不能用rpm包了，需要手动去折腾环境变量什么的。</p>
<p>当tomcat装好后，遇到了一个比较诡异的问题：tomcat无法启动，报错：</p>
<pre>
The BASEDIR environment variable is not defined correctly
This environment variable is needed to run this program
</pre>

<p>当时傻乎乎的去找BASEDIR变量，翻看了 catalina.sh，没有发现奇怪的地方，不过想到catalina里面很多include，想了想是不是其他的文件没有权限导致无法运行，于是试验：</p>
<pre>
chmod +x /usr/local/tomcat6/bin/\*.sh
</pre>

<p>尝试启动tomcat：</p>
<pre>
root@ubuntu:/usr/local/tomcat6/bin# ./startup.sh
Using CATALINA_BASE:   /usr/local/tomcat6
Using CATALINA_HOME:   /usr/local/tomcat6
Using CATALINA_TMPDIR: /usr/local/tomcat6/temp
Using JRE_HOME:        /usr/lib/jvm/java/jdk1.6.0_33
Using CLASSPATH:       /usr/local/tomcat6/bin/bootstrap.jar
</pre>

<p>tomcat启动成功。</p>
</div>
<div class="comments">
	
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'blog-thec-me'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

</div>

    </div> 
    <div class="footer">
      <div class="copyright">
        <p>&copy; 千歳屋 | <a href="/feed">RSS</a></p>
      </div>
    </div>
  </body>
</html>